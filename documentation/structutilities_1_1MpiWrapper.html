<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Quantum Hall entanglement program suite: utilities::MpiWrapper Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Quantum Hall entanglement program suite
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structutilities_1_1MpiWrapper.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structutilities_1_1MpiWrapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">utilities::MpiWrapper Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A struct of variables and functions that can be used to pass MPI interface between functions.  
 <a href="structutilities_1_1MpiWrapper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af85ca580087986bc9393c6c83fc82cf2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#af85ca580087986bc9393c6c83fc82cf2">MpiWrapper</a> ()</td></tr>
<tr class="memdesc:af85ca580087986bc9393c6c83fc82cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#af85ca580087986bc9393c6c83fc82cf2">More...</a><br/></td></tr>
<tr class="separator:af85ca580087986bc9393c6c83fc82cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4448dc27ce72027d10ca24866a4869"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#afe4448dc27ce72027d10ca24866a4869">MpiWrapper</a> (<a class="el" href="classutilities_1_1Cout.html">Cout</a> &amp;<a class="el" href="namespaceutilities.html#a8bd217ae821e52872836b15f651f5d9f">cout</a>)</td></tr>
<tr class="memdesc:afe4448dc27ce72027d10ca24866a4869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor to redirect the class internal verbosity object (m_cout) to an external instance.  <a href="#afe4448dc27ce72027d10ca24866a4869">More...</a><br/></td></tr>
<tr class="separator:afe4448dc27ce72027d10ca24866a4869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631b81ac098da4474f037721f08963f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a631b81ac098da4474f037721f08963f5">~MpiWrapper</a> ()</td></tr>
<tr class="memdesc:a631b81ac098da4474f037721f08963f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. This function is designed to be executed when the program terminates (which you can do by implementing this class globally)  <a href="#a631b81ac098da4474f037721f08963f5">More...</a><br/></td></tr>
<tr class="separator:a631b81ac098da4474f037721f08963f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801c30ba6c465a8681bbdfe982b24488"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">TimeStamp</a> () const </td></tr>
<tr class="memdesc:a801c30ba6c465a8681bbdfe982b24488"><td class="mdescLeft">&#160;</td><td class="mdescRight">TimeStamp prints the current YMDHMS date.  <a href="#a801c30ba6c465a8681bbdfe982b24488">More...</a><br/></td></tr>
<tr class="separator:a801c30ba6c465a8681bbdfe982b24488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a92efc3951241eb3548b58bdf2c5ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a58a92efc3951241eb3548b58bdf2c5ab">DivideTasks</a> (const int id, const int nbrTasks, int nbrProcs, int *firstTask, int *lastTask, const bool display) const </td></tr>
<tr class="memdesc:a58a92efc3951241eb3548b58bdf2c5ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">DivideTasks divides up nbrTasks tasks amongst nbrProcs processes On the processor labelled by the identifier id, the function returns the appropriate index of the minimum and maximum task number.  <a href="#a58a92efc3951241eb3548b58bdf2c5ab">More...</a><br/></td></tr>
<tr class="separator:a58a92efc3951241eb3548b58bdf2c5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1649eb15e043c83a8878302ef5d0d1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#ab1649eb15e043c83a8878302ef5d0d1c">TriangularDivideTasks</a> (const int id, const int nbrTasks, int nbrProcs, int *firstTask, int *lastTask, const bool display) const </td></tr>
<tr class="memdesc:ab1649eb15e043c83a8878302ef5d0d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">TriangularDivideTasks divides up nbrTasks tasks amongst nbrProcs processes with a trangular weighting function (used e.g. for allocating a roughly equal memory distribution to store a triagular matrix in parallel)  <a href="#ab1649eb15e043c83a8878302ef5d0d1c">More...</a><br/></td></tr>
<tr class="separator:ab1649eb15e043c83a8878302ef5d0d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8849c27bae42a09b06db2f14db59168b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a8849c27bae42a09b06db2f14db59168b">Init</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a8849c27bae42a09b06db2f14db59168b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be executed at the start of a program using MPI.  <a href="#a8849c27bae42a09b06db2f14db59168b">More...</a><br/></td></tr>
<tr class="separator:a8849c27bae42a09b06db2f14db59168b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2579a35a3ec1c113d7d05c7f38b1a5f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a2579a35a3ec1c113d7d05c7f38b1a5f2">Init</a> (int argc, char *argv[], bool)</td></tr>
<tr class="memdesc:a2579a35a3ec1c113d7d05c7f38b1a5f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be executed at the start of a program using MPI.  <a href="#a2579a35a3ec1c113d7d05c7f38b1a5f2">More...</a><br/></td></tr>
<tr class="separator:a2579a35a3ec1c113d7d05c7f38b1a5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ac9d5bfd351da9b7696b5652eb95d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a34ac9d5bfd351da9b7696b5652eb95d5">ExitFlagTest</a> ()</td></tr>
<tr class="memdesc:a34ac9d5bfd351da9b7696b5652eb95d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the exitflag is set to true on the master node, then call Terminate.  <a href="#a34ac9d5bfd351da9b7696b5652eb95d5">More...</a><br/></td></tr>
<tr class="separator:a34ac9d5bfd351da9b7696b5652eb95d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d31948bddf8be850cc7914c97138b1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a1d31948bddf8be850cc7914c97138b1f">GenerateHostNameList</a> ()</td></tr>
<tr class="memdesc:a1d31948bddf8be850cc7914c97138b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">GenerateHostNameList gets the host name of each processor and then combines into a single table stored on the master node.  <a href="#a1d31948bddf8be850cc7914c97138b1f">More...</a><br/></td></tr>
<tr class="separator:a1d31948bddf8be850cc7914c97138b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c5634cdbed7e4436b54b9ef619f85b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#ab7c5634cdbed7e4436b54b9ef619f85b">Sync</a> (std::string &amp;buffer, int syncNode) const </td></tr>
<tr class="memdesc:ab7c5634cdbed7e4436b54b9ef619f85b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to MPI synchronize a string.  <a href="#ab7c5634cdbed7e4436b54b9ef619f85b">More...</a><br/></td></tr>
<tr class="separator:ab7c5634cdbed7e4436b54b9ef619f85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891ad0d4731f9a66311170d22f32b9e4"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a891ad0d4731f9a66311170d22f32b9e4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a891ad0d4731f9a66311170d22f32b9e4">Gather</a> (T *sendBuffer, int sendCount, T *recvBuffer, int recvCount, int gatherId, MPI_Comm comm, MPI_Status status) const </td></tr>
<tr class="memdesc:a891ad0d4731f9a66311170d22f32b9e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to implement MPI Gather, but with different sizes of buffer on each node (the standard MPI_Gather assumes the buffer sizes are identical on all nodes).  <a href="#a891ad0d4731f9a66311170d22f32b9e4">More...</a><br/></td></tr>
<tr class="separator:a891ad0d4731f9a66311170d22f32b9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9673581213e6b9e43fc847f02fc5698"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af9673581213e6b9e43fc847f02fc5698"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#af9673581213e6b9e43fc847f02fc5698">Scatter</a> (T *sendBuffer, int sendCount, T *recvBuffer, int recvCount, int scatterId, MPI_Comm comm, MPI_Status status) const </td></tr>
<tr class="memdesc:af9673581213e6b9e43fc847f02fc5698"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to implement MPI Scatter, but with different sizes of buffer on each node (the standard MPI_Scatter assumes the buffer sizes are identical on all nodes).  <a href="#af9673581213e6b9e43fc847f02fc5698">More...</a><br/></td></tr>
<tr class="separator:af9673581213e6b9e43fc847f02fc5698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd224a7c1052298744ef984a3341b66e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:acd224a7c1052298744ef984a3341b66e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#acd224a7c1052298744ef984a3341b66e">Reduce</a> (T *reduceBuffer, T *recvBuffer, int bufferCount, int reduceId, MPI_Comm comm, MPI_Status status) const </td></tr>
<tr class="memdesc:acd224a7c1052298744ef984a3341b66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to implement MPI Reduce, but with different sizes of buffer on each node (the standard MPI_Reduce assumes the buffer sizes are identical on all nodes).  <a href="#acd224a7c1052298744ef984a3341b66e">More...</a><br/></td></tr>
<tr class="separator:acd224a7c1052298744ef984a3341b66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18344940a2fccb1c210a8f9f33a1b6e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af18344940a2fccb1c210a8f9f33a1b6e"><td class="memTemplItemLeft" align="right" valign="top">MPI_Datatype&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#af18344940a2fccb1c210a8f9f33a1b6e">GetType</a> () const </td></tr>
<tr class="memdesc:af18344940a2fccb1c210a8f9f33a1b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A template function to convert a given c variable type into an appropriate MPI type.  <a href="#af18344940a2fccb1c210a8f9f33a1b6e">More...</a><br/></td></tr>
<tr class="separator:af18344940a2fccb1c210a8f9f33a1b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e400c848363167d6c5f12366f7c5351"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1e400c848363167d6c5f12366f7c5351"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a1e400c848363167d6c5f12366f7c5351">Sync</a> (T *buffer, int bufferSize, int syncNode) const </td></tr>
<tr class="memdesc:a1e400c848363167d6c5f12366f7c5351"><td class="mdescLeft">&#160;</td><td class="mdescRight">A template function to synchronize a given buffer, using the GetType function to automatically set the correct type.  <a href="#a1e400c848363167d6c5f12366f7c5351">More...</a><br/></td></tr>
<tr class="separator:a1e400c848363167d6c5f12366f7c5351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb2347090684f35f99a2c8343541466"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6cb2347090684f35f99a2c8343541466"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a6cb2347090684f35f99a2c8343541466">Sync</a> (std::vector&lt; T &gt; *buffer, int syncNode) const </td></tr>
<tr class="memdesc:a6cb2347090684f35f99a2c8343541466"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to MPI synchronize a std::vector.  <a href="#a6cb2347090684f35f99a2c8343541466">More...</a><br/></td></tr>
<tr class="separator:a6cb2347090684f35f99a2c8343541466"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af1b95be2962297422fd45747078777d1"><td class="memItemLeft" align="right" valign="top">std::chrono::high_resolution_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">m_wallTime</a></td></tr>
<tr class="separator:af1b95be2962297422fd45747078777d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0615e4621e3e3fe7c42f6e5bc0f00d6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a></td></tr>
<tr class="separator:a0615e4621e3e3fe7c42f6e5bc0f00d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f670cb88d82d9c815e111de5e76ae3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a></td></tr>
<tr class="separator:a0f670cb88d82d9c815e111de5e76ae3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe0cfaa16217b07aad229ba19dba6e9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">m_hosts</a></td></tr>
<tr class="separator:aebe0cfaa16217b07aad229ba19dba6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafee6ab3a3b23174586b41f38da96bab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#aafee6ab3a3b23174586b41f38da96bab">m_firstTask</a></td></tr>
<tr class="separator:aafee6ab3a3b23174586b41f38da96bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948a6b1b3daa673cc4ebd93eb0af6770"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a948a6b1b3daa673cc4ebd93eb0af6770">m_lastTask</a></td></tr>
<tr class="separator:a948a6b1b3daa673cc4ebd93eb0af6770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffe7ed2049a6b7feb5778886a0d522e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a7ffe7ed2049a6b7feb5778886a0d522e">m_exitFlag</a></td></tr>
<tr class="separator:a7ffe7ed2049a6b7feb5778886a0d522e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e00700c79360216f60abafad2b0ab1f"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a></td></tr>
<tr class="separator:a7e00700c79360216f60abafad2b0ab1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8447d3e7e900611589f60d91114dda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classutilities_1_1Cout.html">Cout</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a></td></tr>
<tr class="separator:abe8447d3e7e900611589f60d91114dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab444f21a420946eb4f91f8212cdb0a87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">m_coutExternal</a></td></tr>
<tr class="separator:ab444f21a420946eb4f91f8212cdb0a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A struct of variables and functions that can be used to pass MPI interface between functions. </p>
<p>These functions use the mpi/h library. Examples at <a href="https://computing.llnl.gov/tutorials/mpi/">https://computing.llnl.gov/tutorials/mpi/</a> </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00055">55</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af85ca580087986bc9393c6c83fc82cf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">utilities::MpiWrapper::MpiWrapper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>(default to using the global interface COMM_WORLD) </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00093">93</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        :</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>(MPI_COMM_WORLD),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">m_coutExternal</a>(<span class="keyword">false</span>)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a> = <span class="keyword">new</span> Cout;  <span class="comment">//  Construct a default version of the object</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                <span class="comment">//  and set it to that all output will be displayed</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#ab8a49777c3ee10a0d280f6609b75ea0f">SetVerbosity</a>(0);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_ab444f21a420946eb4f91f8212cdb0a87"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">utilities::MpiWrapper::m_coutExternal</a></div><div class="ttdeci">bool m_coutExternal</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00079">mpi_wrapper.h:79</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_ab8a49777c3ee10a0d280f6609b75ea0f"><div class="ttname"><a href="classutilities_1_1Cout.html#ab8a49777c3ee10a0d280f6609b75ea0f">utilities::Cout::SetVerbosity</a></div><div class="ttdeci">void SetVerbosity(const short int verbosityLevel)</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00092">cout_tools.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe4448dc27ce72027d10ca24866a4869"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">utilities::MpiWrapper::MpiWrapper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classutilities_1_1Cout.html">Cout</a> &amp;&#160;</td>
          <td class="paramname"><em>cout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor to redirect the class internal verbosity object (m_cout) to an external instance. </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00112">112</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        :</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>(MPI_COMM_WORLD),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">m_coutExternal</a>(<span class="keyword">true</span>)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a> = &amp;<a class="code" href="namespaceutilities.html#a8bd217ae821e52872836b15f651f5d9f">cout</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_ab444f21a420946eb4f91f8212cdb0a87"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">utilities::MpiWrapper::m_coutExternal</a></div><div class="ttdeci">bool m_coutExternal</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00079">mpi_wrapper.h:79</a></div></div>
<div class="ttc" id="namespaceutilities_html_a8bd217ae821e52872836b15f651f5d9f"><div class="ttname"><a href="namespaceutilities.html#a8bd217ae821e52872836b15f651f5d9f">utilities::cout</a></div><div class="ttdeci">Cout cout</div><div class="ttdef"><b>Definition:</b> <a href="fqhe__entanglement__hamiltonian_8cpp_source.html#l00046">fqhe_entanglement_hamiltonian.cpp:46</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a631b81ac098da4474f037721f08963f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">utilities::MpiWrapper::~MpiWrapper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. This function is designed to be executed when the program terminates (which you can do by implementing this class globally) </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00129">129</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>==0) <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;\n\t\tPROGRAM TERMINATED &quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">TimeStamp</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keyword">auto</span> duration = std::chrono::high_resolution_clock::now() - <a class="code" href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">m_wallTime</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keyword">auto</span> hours    = std::chrono::duration_cast&lt;std::chrono::hours&gt;(duration);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keyword">auto</span> minutes  = std::chrono::duration_cast&lt;std::chrono::minutes&gt;(duration-hours);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keyword">auto</span> seconds  = std::chrono::duration_cast&lt;std::chrono::seconds&gt;(duration-hours-minutes);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keyword">auto</span> millis   = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(duration-hours-minutes-seconds);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;\t\tTIME ELAPSED &quot;</span>&lt;&lt;hours.count()&lt;&lt;<span class="stringliteral">&quot; HOURS &quot;</span>&lt;&lt;minutes.count()&lt;&lt;<span class="stringliteral">&quot; MINUTES &quot;</span>&lt;&lt;seconds.count()&lt;&lt;<span class="stringliteral">&quot;.&quot;</span>&lt;&lt;millis.count()&lt;&lt;<span class="stringliteral">&quot; SECONDS.\n&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;------------------------------------------------------------------------------------------&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;------------------------------------------------------------------------------------------&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">m_coutExternal</a>)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="keyword">delete</span> <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            MPI_Finalize();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_ab444f21a420946eb4f91f8212cdb0a87"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#ab444f21a420946eb4f91f8212cdb0a87">utilities::MpiWrapper::m_coutExternal</a></div><div class="ttdeci">bool m_coutExternal</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00079">mpi_wrapper.h:79</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_a903fe4ad596cdce91e00004bc21b7e6a"><div class="ttname"><a href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">utilities::Cout::MainOutput</a></div><div class="ttdeci">std::ostream &amp; MainOutput()</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00130">cout_tools.h:130</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_af1b95be2962297422fd45747078777d1"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">utilities::MpiWrapper::m_wallTime</a></div><div class="ttdeci">std::chrono::high_resolution_clock::time_point m_wallTime</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00057">mpi_wrapper.h:57</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a801c30ba6c465a8681bbdfe982b24488"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">utilities::MpiWrapper::TimeStamp</a></div><div class="ttdeci">void TimeStamp() const </div><div class="ttdoc">TimeStamp prints the current YMDHMS date. </div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8cpp_source.html#l00119">mpi_wrapper.cpp:119</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0f670cb88d82d9c815e111de5e76ae3e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">utilities::MpiWrapper::m_id</a></div><div class="ttdeci">int m_id</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00062">mpi_wrapper.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a58a92efc3951241eb3548b58bdf2c5ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::DivideTasks </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nbrTasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbrProcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>firstTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lastTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>display</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DivideTasks divides up nbrTasks tasks amongst nbrProcs processes On the processor labelled by the identifier id, the function returns the appropriate index of the minimum and maximum task number. </p>
<p>Example output: (arugments nbrTasks=450, nbrProcs=4)</p>
<pre class="fragment">//! Parallelization:
//!
//!                         Number of     First     Last
//! Processor    Host        Tasks        Task      Task
//!                                         
//!     0        pc1          113          0         112    
//!     1        pc1          112         113        224    
//!     2        pc2          113         225        337    
//!     3        pc2          112         338        449    
//! </pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The unique identifier of a particular processor </td></tr>
    <tr><td class="paramname">nbrTasks</td><td>The number of tasks to assign </td></tr>
    <tr><td class="paramname">nbrProcs</td><td>The number of processors available to assign tasks to </td></tr>
    <tr><td class="paramname">firstTask</td><td>The unique index of the first task for processor id </td></tr>
    <tr><td class="paramname">lastTask</td><td>The unique index of the last task for processor id </td></tr>
    <tr><td class="paramname">display</td><td>Flag to turn on/off command line display </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00211">211</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)   <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">if</span>(display)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\n\tParallelization:\n&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\t                            Number of      First       Last\n&quot;</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\tProcessor      Host          Tasks          Task        Task\n&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;     </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span>(nbrTasks&lt;nbrProcs)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            nbrProcs = nbrTasks;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>&gt;=nbrProcs)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                *firstTask = nbrTasks-1;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                *lastTask  = nbrTasks-2;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">int</span> procRemain = nbrProcs;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordtype">int</span> taskRemain = nbrTasks;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">int</span> hi,lo;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        hi = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> proc = 0; proc &lt; nbrProcs; proc++ )</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordtype">int</span> taskProc = (int)floor((<span class="keywordtype">double</span>)taskRemain/procRemain+0.5);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            procRemain--;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            taskRemain-=taskProc;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            lo=hi+1;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            hi+=taskProc;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="comment">//  output the relevant values to the relevant node</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==proc)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                *firstTask=lo-1;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                *lastTask=hi-1;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)   <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">if</span>(display &amp;&amp; (<span class="keywordtype">int</span>)<a class="code" href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">m_hosts</a>.size() &gt;= proc)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>()&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>&lt;&lt;proc&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>&lt;&lt;std::setw(10)&lt;&lt;<a class="code" href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">m_hosts</a>[proc]&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>&lt;&lt;std::setw(12)&lt;&lt;taskProc&lt;&lt;std::setw(12)&lt;&lt; lo-1&lt;&lt;std::setw(12)&lt;&lt;hi-1&lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)   <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">if</span>(display)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_aebe0cfaa16217b07aad229ba19dba6e9"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">utilities::MpiWrapper::m_hosts</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_hosts</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00064">mpi_wrapper.h:64</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_a2d11fc59d54199d37f4627dc645dff93"><div class="ttname"><a href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">utilities::Cout::AdditionalInfo</a></div><div class="ttdeci">std::ostream &amp; AdditionalInfo()</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00148">cout_tools.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34ac9d5bfd351da9b7696b5652eb95d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::ExitFlagTest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the exitflag is set to true on the master node, then call Terminate. </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00408">408</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        MPI_Barrier(<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        MPI_Bcast(&amp;<a class="code" href="structutilities_1_1MpiWrapper.html#a7ffe7ed2049a6b7feb5778886a0d522e">m_exitFlag</a>,1,MPI_C_BOOL,0,<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="structutilities_1_1MpiWrapper.html#a7ffe7ed2049a6b7feb5778886a0d522e">m_exitFlag</a>)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            exit(EXIT_FAILURE);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7ffe7ed2049a6b7feb5778886a0d522e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7ffe7ed2049a6b7feb5778886a0d522e">utilities::MpiWrapper::m_exitFlag</a></div><div class="ttdeci">bool m_exitFlag</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00073">mpi_wrapper.h:73</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a891ad0d4731f9a66311170d22f32b9e4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Gather </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sendCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gatherId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Status&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function to implement MPI Gather, but with different sizes of buffer on each node (the standard MPI_Gather assumes the buffer sizes are identical on all nodes). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendBuffer</td><td>Send buffer </td></tr>
    <tr><td class="paramname">sendCount</td><td>Size of send buffer (can be different for each node) </td></tr>
    <tr><td class="paramname">recvBuffer</td><td>Receive buffer: MUST BE OF TOTAL sendCount dimension on the node where the data are sent to. Not addressed on other nodes. </td></tr>
    <tr><td class="paramname">recvCount</td><td>Size of the recvBuffer </td></tr>
    <tr><td class="paramname">gatherId</td><td>id of the processor where the data are to be gathered </td></tr>
    <tr><td class="paramname">comm</td><td>mpi communicator </td></tr>
    <tr><td class="paramname">status</td><td>mpi status </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00183">183</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordtype">int</span> nbrProcs;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordtype">int</span> id;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            MPI_Comm_size(comm,&amp;nbrProcs);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            MPI_Comm_rank(comm,&amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == gatherId)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordtype">int</span> cumulativeSize = 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="comment">//  Receive all other data</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot;\n\tcumulativeSize = &quot;&lt;&lt;cumulativeSize&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;nbrProcs;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> != gatherId)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        <span class="keywordtype">int</span> recv;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;recv message id = &quot;&lt;&lt;40+2*i&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="comment">//  Receive the buffer size first</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        MPI_Recv(&amp;recv,1,MPI_INT,<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,40+2*<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,comm,&amp;status);    </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        <span class="comment">// Tagged with 40+2*i</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        <span class="comment">//utilities::cout.DebuggingInfo()&lt;&lt;&quot;\tMPI SIZE MESSAGE &quot;&lt;&lt;40+2*i&lt;&lt;&quot; RECEIVED ON NODE &quot;&lt;&lt;gatherId&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        <span class="comment">//  Receive the buffer contents</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        MPI_Recv(recvBuffer+cumulativeSize,recv,this-&gt;GetType&lt;T&gt;(),<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,40+2*<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+1,comm,&amp;status);    </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        <span class="comment">// Tagged with 40+2*i+1</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        <span class="comment">//utilities::cout.DebuggingInfo()&lt;&lt;&quot;\tMPI DATA MESSAGE &quot;&lt;&lt;40+2*i+1&lt;&lt;&quot; RECEIVED ON NODE &quot;&lt;&lt;gatherId&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\trecvBuffer contents &quot;&lt;&lt;(*(recvBuffer+cumulativeSize))&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        cumulativeSize += recv;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\tcumulativeSize = &quot;&lt;&lt;cumulativeSize&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\tCOPPIED GATHER NODE&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        <span class="comment">//for(int j=0;j&lt;sendCount;j++)</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                           <span class="comment">//recvBuffer[cumulativeSize+j] = sendBuffer[j];</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        <span class="comment">//  Copy the id node value with a regular memory copy</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        memcpy(recvBuffer+cumulativeSize,sendBuffer,<span class="keyword">sizeof</span>(T)*sendCount);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        cumulativeSize += sendCount;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="comment">//  Send the buffer size first </span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot; send Count = &quot;&lt;&lt;sendCount&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                MPI_Send(&amp;sendCount,1,MPI_INT,gatherId,40+2*<span class="keywordtype">id</span>,comm);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="comment">// Tagged with 40+2*id</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="comment">//utilities::cout.DebuggingInfo()&lt;&lt;&quot;\tMPI SIZE MESSAGE &quot;&lt;&lt;40+2*id&lt;&lt;&quot; SENT FROM NODE &quot;&lt;&lt;id&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot;\n\tsendBuffer contents &quot;&lt;&lt;(*(sendBuffer))&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">//  Send the buffer contents</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                MPI_Send(sendBuffer,sendCount,this-&gt;GetType&lt;T&gt;(),gatherId,40+2*<span class="keywordtype">id</span>+1,comm);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="comment">// Tagged with 40+2*id+1</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="comment">//utilities::cout.DebuggingInfo()&lt;&lt;&quot;\tMPI DATA MESSAGE &quot;&lt;&lt;40+2*id+1&lt;&lt;&quot; SENT FROM NODE &quot;&lt;&lt;id&lt;&lt;std::endl; </span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            MPI_Barrier(comm);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="ttc" id="gamma_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="gamma_8cpp_source.html#l00023">gamma.cpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1d31948bddf8be850cc7914c97138b1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::GenerateHostNameList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GenerateHostNameList gets the host name of each processor and then combines into a single table stored on the master node. </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00143">143</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {    </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bufferSize = 40;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="comment">//  First obtain the host name from each process</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordtype">int</span> variableSize = bufferSize;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordtype">char</span> host[bufferSize];</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        MPI_Get_processor_name(host,&amp;variableSize);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="comment">//  Then run an mpi gather on the master node</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordtype">char</span>* recvBuffer=0;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span>(0 == <a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>)   <span class="comment">//  For the master node</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            recvBuffer = <span class="keyword">new</span> (std::nothrow) <span class="keywordtype">char</span>[<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>*bufferSize];</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        MPI_Gather(host,bufferSize,MPI_CHAR,recvBuffer,bufferSize,MPI_CHAR,0,<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">//  Convert char buffer into string array</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span>(0 == <a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>)   <span class="comment">//  For the master node</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                memcpy(host,recvBuffer+bufferSize*<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,bufferSize*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">m_hosts</a>.push_back(host);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">//  Clear up memory allocation</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span>(0 != recvBuffer)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keyword">delete</span>[] recvBuffer;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_aebe0cfaa16217b07aad229ba19dba6e9"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">utilities::MpiWrapper::m_hosts</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_hosts</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00064">mpi_wrapper.h:64</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
<div class="ttc" id="gamma_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="gamma_8cpp_source.html#l00023">gamma.cpp:23</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0f670cb88d82d9c815e111de5e76ae3e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">utilities::MpiWrapper::m_id</a></div><div class="ttdeci">int m_id</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00062">mpi_wrapper.h:62</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0615e4621e3e3fe7c42f6e5bc0f00d6a"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">utilities::MpiWrapper::m_nbrProcs</a></div><div class="ttdeci">int m_nbrProcs</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00060">mpi_wrapper.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af18344940a2fccb1c210a8f9f33a1b6e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Datatype utilities::MpiWrapper::GetType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A template function to convert a given c variable type into an appropriate MPI type. </p>
<dl class="section return"><dt>Returns</dt><dd>An MPI type determined by the template argument T. Default return is MPI_CHAR. </dd></dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00463">463</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="comment">//  Integer types</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,uint64_t&gt;::value)          <span class="keywordflow">return</span> MPI_UINT64_T;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,unsigned long int&gt;::value) <span class="keywordflow">return</span> MPI_UNSIGNED_LONG;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,uint32_t&gt;::value)          <span class="keywordflow">return</span> MPI_UINT32_T;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,unsigned int&gt;::value)      <span class="keywordflow">return</span> MPI_UNSIGNED;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,uint16_t&gt;::value)          <span class="keywordflow">return</span> MPI_UINT16_T;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,unsigned short int&gt;::value)<span class="keywordflow">return</span> MPI_UNSIGNED_SHORT;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,uint8_t&gt;::value)           <span class="keywordflow">return</span> MPI_UINT8_T;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,int64_t&gt;::value)           <span class="keywordflow">return</span> MPI_INT64_T;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,long int&gt;::value)          <span class="keywordflow">return</span> MPI_LONG;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,int32_t&gt;::value)           <span class="keywordflow">return</span> MPI_INT32_T;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,int&gt;::value)               <span class="keywordflow">return</span> MPI_INT;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,int16_t&gt;::value)           <span class="keywordflow">return</span> MPI_INT16_T;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,short int&gt;::value)         <span class="keywordflow">return</span> MPI_SHORT;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,int8_t&gt;::value)            <span class="keywordflow">return</span> MPI_INT8_T;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;             </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="comment">//  Real types</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,double&gt;::value)            <span class="keywordflow">return</span> MPI_DOUBLE;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,float&gt;::value)             <span class="keywordflow">return</span> MPI_FLOAT;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="comment">//  Complex types</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,dcmplx&gt;::value)            <span class="keywordflow">return</span> MPI_DOUBLE_COMPLEX;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="comment">//  Bool types</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,bool&gt;::value)              <span class="keywordflow">return</span> MPI_C_BOOL;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="comment">//  Char types</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,unsigned char&gt;::value)     <span class="keywordflow">return</span> MPI_UNSIGNED_CHAR;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">if</span>(is_same&lt;T,char&gt;::value)              <span class="keywordflow">return</span> MPI_CHAR;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="comment">//  Default return</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordflow">return</span> MPI_CHAR;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8849c27bae42a09b06db2f14db59168b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be executed at the start of a program using MPI. </p>
<p>It will initialise the global variables nbrProces and id to contain the appropriate number of processors available and the identifier of the running process. Also it will set the exit function to be Terminate </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Length of argument list </td></tr>
    <tr><td class="paramname">argv</td><td>Initialize from command line arguments </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00044">44</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="comment">//  Initialize MPI</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">//  Get the number of processors</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        MPI_Init(&amp;argc,&amp;argv);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        MPI_Comm_size(<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>,&amp;<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        MPI_Comm_rank(<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>,&amp;<a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>==0)     <span class="comment">// FOR THE MASTER NODE</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;\n\n\t\tPROGRAM COMMENCED &quot;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">TimeStamp</a>();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">m_wallTime</a> = std::chrono::high_resolution_clock::now();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;\t\tRUNNING ON &quot;</span>&lt;&lt;<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>&lt;&lt;<span class="stringliteral">&quot; NODES&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        this-&gt;<a class="code" href="structutilities_1_1MpiWrapper.html#a1d31948bddf8be850cc7914c97138b1f">GenerateHostNameList</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_a903fe4ad596cdce91e00004bc21b7e6a"><div class="ttname"><a href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">utilities::Cout::MainOutput</a></div><div class="ttdeci">std::ostream &amp; MainOutput()</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00130">cout_tools.h:130</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a1d31948bddf8be850cc7914c97138b1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a1d31948bddf8be850cc7914c97138b1f">utilities::MpiWrapper::GenerateHostNameList</a></div><div class="ttdeci">void GenerateHostNameList()</div><div class="ttdoc">GenerateHostNameList gets the host name of each processor and then combines into a single table store...</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8cpp_source.html#l00143">mpi_wrapper.cpp:143</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_af1b95be2962297422fd45747078777d1"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">utilities::MpiWrapper::m_wallTime</a></div><div class="ttdeci">std::chrono::high_resolution_clock::time_point m_wallTime</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00057">mpi_wrapper.h:57</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a801c30ba6c465a8681bbdfe982b24488"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">utilities::MpiWrapper::TimeStamp</a></div><div class="ttdeci">void TimeStamp() const </div><div class="ttdoc">TimeStamp prints the current YMDHMS date. </div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8cpp_source.html#l00119">mpi_wrapper.cpp:119</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0f670cb88d82d9c815e111de5e76ae3e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">utilities::MpiWrapper::m_id</a></div><div class="ttdeci">int m_id</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00062">mpi_wrapper.h:62</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0615e4621e3e3fe7c42f6e5bc0f00d6a"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">utilities::MpiWrapper::m_nbrProcs</a></div><div class="ttdeci">int m_nbrProcs</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00060">mpi_wrapper.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2579a35a3ec1c113d7d05c7f38b1a5f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be executed at the start of a program using MPI. </p>
<p>It will initialise the global variables nbrProces and id to contain the appropriate number of processors available and the identifier of the running process. Also it will set the exit function to be Terminate </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Length of argument list </td></tr>
    <tr><td class="paramname">argv</td><td>Initialize from command line arguments </td></tr>
    <tr><td class="paramname">silent</td><td>Flag to not print any output </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00081">81</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="comment">//  Initialize MPI</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="comment">//  Get the number of processors</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        MPI_Init(&amp;argc,&amp;argv);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        MPI_Comm_size(<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>,&amp;<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        MPI_Comm_rank(<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>,&amp;<a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>==0)     <span class="comment">// FOR THE MASTER NODE</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span>(!silent)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;\n\n\t\tPROGRAM COMMENCED &quot;</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">TimeStamp</a>();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;<span class="stringliteral">&quot;\t\tRUNNING ON &quot;</span>&lt;&lt;<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>&lt;&lt;<span class="stringliteral">&quot; NODES&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">m_wallTime</a> = std::chrono::high_resolution_clock::now();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        this-&gt;<a class="code" href="structutilities_1_1MpiWrapper.html#a1d31948bddf8be850cc7914c97138b1f">GenerateHostNameList</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_a903fe4ad596cdce91e00004bc21b7e6a"><div class="ttname"><a href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">utilities::Cout::MainOutput</a></div><div class="ttdeci">std::ostream &amp; MainOutput()</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00130">cout_tools.h:130</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a1d31948bddf8be850cc7914c97138b1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a1d31948bddf8be850cc7914c97138b1f">utilities::MpiWrapper::GenerateHostNameList</a></div><div class="ttdeci">void GenerateHostNameList()</div><div class="ttdoc">GenerateHostNameList gets the host name of each processor and then combines into a single table store...</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8cpp_source.html#l00143">mpi_wrapper.cpp:143</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_af1b95be2962297422fd45747078777d1"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#af1b95be2962297422fd45747078777d1">utilities::MpiWrapper::m_wallTime</a></div><div class="ttdeci">std::chrono::high_resolution_clock::time_point m_wallTime</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00057">mpi_wrapper.h:57</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a801c30ba6c465a8681bbdfe982b24488"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a801c30ba6c465a8681bbdfe982b24488">utilities::MpiWrapper::TimeStamp</a></div><div class="ttdeci">void TimeStamp() const </div><div class="ttdoc">TimeStamp prints the current YMDHMS date. </div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8cpp_source.html#l00119">mpi_wrapper.cpp:119</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0f670cb88d82d9c815e111de5e76ae3e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">utilities::MpiWrapper::m_id</a></div><div class="ttdeci">int m_id</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00062">mpi_wrapper.h:62</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0615e4621e3e3fe7c42f6e5bc0f00d6a"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">utilities::MpiWrapper::m_nbrProcs</a></div><div class="ttdeci">int m_nbrProcs</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00060">mpi_wrapper.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acd224a7c1052298744ef984a3341b66e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Reduce </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>reduceBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reduceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Status&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function to implement MPI Reduce, but with different sizes of buffer on each node (the standard MPI_Reduce assumes the buffer sizes are identical on all nodes). </p>
<p>Note: if the send and recieve buffers are the same on the reduce node then copying the reduce node allocation is ignored.</p>
<p>The function is currently set up to sum the array values sent back to the reduce node </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reduceBuffer</td><td>Buffer containing the input/output </td></tr>
    <tr><td class="paramname">recvBuffer</td><td>Buffer to received mpi messages from other nodes </td></tr>
    <tr><td class="paramname">bufferCount</td><td>Size of both the recvBuffer and the sendBuffer </td></tr>
    <tr><td class="paramname">reduceId</td><td>id of the processor where the data are to be reduced </td></tr>
    <tr><td class="paramname">comm</td><td>mpi communicator </td></tr>
    <tr><td class="paramname">status</td><td>mpi status </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00385">385</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordtype">int</span> nbrProcs;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordtype">int</span> id;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            MPI_Comm_size(comm,&amp;nbrProcs);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            MPI_Comm_rank(comm,&amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">if</span>(reduceBuffer == recvBuffer)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                std::cerr&lt;&lt;<span class="stringliteral">&quot;ERROR WITH mpi.Reduce - reduce and recv buffers must have different addresses!&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                exit(EXIT_FAILURE);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == reduceId)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="comment">//  Recieve all other data</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot;\n\tcumulativeSize = &quot;&lt;&lt;cumulativeSize&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;nbrProcs;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> != reduceId)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;recv message id = &quot;&lt;&lt;40+2*i&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        <span class="comment">//  Receive the buffer contents</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        MPI_Recv(recvBuffer,bufferCount,this-&gt;GetType&lt;T&gt;(),<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,40+2*<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+1,comm,&amp;status);    </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                        <span class="comment">// Tagged with 40+2*i+1</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        <span class="comment">//utilities::cout.DebuggingInfo()&lt;&lt;&quot;\tMPI DATA MESSAGE &quot;&lt;&lt;40+2*i+1&lt;&lt;&quot; RECEIVED ON NODE &quot;&lt;&lt;reduceId&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\trecvBuffer contents &quot;&lt;&lt;(*(recvBuffer+cumulativeSize))&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                        <span class="comment">//  Add to the reduce buffer</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                        </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;bufferCount;j++)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                            reduceBuffer[j] += recvBuffer[j];</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot;\n\treduceBuffer contents &quot;&lt;&lt;(*(reduceBuffer))&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="comment">//  Send the buffer contents</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                MPI_Send(reduceBuffer,bufferCount,this-&gt;GetType&lt;T&gt;(),reduceId,40+2*<span class="keywordtype">id</span>+1,comm);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="comment">// Tagged with 40+2*id+1</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="comment">//utilities::cout.DebuggingInfo()&lt;&lt;&quot;\tMPI DATA MESSAGE &quot;&lt;&lt;40+2*id+1&lt;&lt;&quot; SENT FROM NODE &quot;&lt;&lt;id&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            MPI_Barrier(comm);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="ttc" id="gamma_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="gamma_8cpp_source.html#l00023">gamma.cpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9673581213e6b9e43fc847f02fc5698"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Scatter </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sendCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>recvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>scatterId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Status&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function to implement MPI Scatter, but with different sizes of buffer on each node (the standard MPI_Scatter assumes the buffer sizes are identical on all nodes). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendBuffer</td><td>Send buffer MUST BE OF TOTAL recvCount dimension on the node where the data are sent from. Not addressed on other nodes. </td></tr>
    <tr><td class="paramname">sendCount</td><td>Size of send buffer </td></tr>
    <tr><td class="paramname">recvBuffer</td><td>Receive buffer </td></tr>
    <tr><td class="paramname">recvCount</td><td>Size of the recvBuffer (can be different for each node) </td></tr>
    <tr><td class="paramname">scatterId</td><td>id of the processor where the data are to be scattered </td></tr>
    <tr><td class="paramname">comm</td><td>mpi communicator </td></tr>
    <tr><td class="paramname">status</td><td>mpi status </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00288">288</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordtype">int</span> nbrProcs;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordtype">int</span> id;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            MPI_Comm_size(comm,&amp;nbrProcs);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            MPI_Comm_rank(comm,&amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == scatterId)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordtype">int</span> cumulativeSize = 0;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;nbrProcs;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> != scatterId)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <span class="keywordtype">int</span> send;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <span class="comment">//  Receive the buffer size first</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        MPI_Recv(&amp;send,1,MPI_INT,<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,40+2*<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,comm,&amp;status); </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        <span class="comment">// Tagged with 40+2*i</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\tsendBuffer contents &quot;&lt;&lt;(*(sendBuffer+cumulativeSize))&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <span class="comment">//  Send the buffer contents</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        MPI_Send(sendBuffer+cumulativeSize,send,this-&gt;GetType&lt;T&gt;(),<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,40+2*<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+1,comm);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        <span class="comment">// Tagged with 40+2*i+1</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        cumulativeSize += send;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\tcumulativeSize = &quot;&lt;&lt;cumulativeSize&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                        <span class="comment">//std::cout&lt;&lt;&quot;\n\tCOPPIED Scatter NODE&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                        <span class="comment">//for(int j=0;j&lt;recvCount;j++)</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                        {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                            <span class="comment">//recvBuffer[j] = sendBuffer[cumulativeSize+j];</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <span class="comment">//  Copy the id node value with a regular memory copy</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                        memcpy(recvBuffer,sendBuffer+cumulativeSize,<span class="keyword">sizeof</span>(T)*recvCount);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                        </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                        cumulativeSize += recvCount;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="comment">//  Send the buffer size first </span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot; recv Count = &quot;&lt;&lt;recvCount&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                MPI_Send(&amp;recvCount,1,MPI_INT,scatterId,40+2*<span class="keywordtype">id</span>,comm);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="comment">// Tagged with 40+2*id</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="comment">//  Receive the buffer contents</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                MPI_Recv(recvBuffer,recvCount,this-&gt;GetType&lt;T&gt;(),scatterId,40+2*<span class="keywordtype">id</span>+1,comm,&amp;status);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="comment">// Tagged with 40+2*id+1</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="comment">//std::cout&lt;&lt;&quot;\n\trecvBuffer contents &quot;&lt;&lt;(*(recvBuffer))&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            MPI_Barrier(comm);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        }</div>
<div class="ttc" id="gamma_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="gamma_8cpp_source.html#l00023">gamma.cpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7c5634cdbed7e4436b54b9ef619f85b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Sync </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syncNode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to MPI synchronize a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the broadcast buffer </td></tr>
    <tr><td class="paramname">syncNode</td><td>Node to synchronize the buffer with </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00429">429</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordtype">int</span> bufferSize; <span class="comment">//  string length</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">if</span>(syncNode == <a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>)     <span class="comment">//  FOR NODE syncNode</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="comment">//  Get the string length on the sunchronize node</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                bufferSize = buffer.length();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment">//  Synchronize the buffer size</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            this-&gt;<a class="code" href="structutilities_1_1MpiWrapper.html#ab7c5634cdbed7e4436b54b9ef619f85b">Sync</a>(&amp;bufferSize,1,syncNode);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">if</span>(syncNode == <a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>)     <span class="comment">//  FOR NODE syncNode</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keywordtype">char</span> *charArray;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="comment">//  Convert input string to char array</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                charArray = (<span class="keywordtype">char</span>*)buffer.c_str();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="comment">//  Send char array to all other nodes</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">m_nbrProcs</a>;<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    <span class="keywordflow">if</span>(syncNode != <a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        MPI_Send(charArray,bufferSize,this-&gt;GetType&lt;char&gt;(),<a class="code" href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>,21,<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>);       </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        <span class="comment">//  21 is a number identifying the signal</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">else</span>    <span class="comment">// FOR ALL OHTER NODES</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="comment">//  Receive communicated values</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <span class="keywordtype">char</span> charArray[bufferSize];</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                MPI_Status status;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                MPI_Recv(charArray,bufferSize,this-&gt;GetType&lt;char&gt;(),syncNode,21,<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>,&amp;status);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <span class="comment">//  Convert back to string</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                buffer = charArray;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                buffer.resize(bufferSize);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
<div class="ttc" id="gamma_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="gamma_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="gamma_8cpp_source.html#l00023">gamma.cpp:23</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0f670cb88d82d9c815e111de5e76ae3e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">utilities::MpiWrapper::m_id</a></div><div class="ttdeci">int m_id</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00062">mpi_wrapper.h:62</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0615e4621e3e3fe7c42f6e5bc0f00d6a"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0615e4621e3e3fe7c42f6e5bc0f00d6a">utilities::MpiWrapper::m_nbrProcs</a></div><div class="ttdeci">int m_nbrProcs</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00060">mpi_wrapper.h:60</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_ab7c5634cdbed7e4436b54b9ef619f85b"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#ab7c5634cdbed7e4436b54b9ef619f85b">utilities::MpiWrapper::Sync</a></div><div class="ttdeci">void Sync(std::string &amp;buffer, int syncNode) const </div><div class="ttdoc">A function to MPI synchronize a string. </div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8cpp_source.html#l00429">mpi_wrapper.cpp:429</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1e400c848363167d6c5f12366f7c5351"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Sync </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syncNode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A template function to synchronize a given buffer, using the GetType function to automatically set the correct type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the broadcast buffer </td></tr>
    <tr><td class="paramname">bufferSize</td><td>Size of the buffer </td></tr>
    <tr><td class="paramname">syncNode</td><td>Node to synchronize the buffer with </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00515">515</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            MPI_Bcast(buffer,bufferSize,this-&gt;GetType&lt;T&gt;(),syncNode,<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6cb2347090684f35f99a2c8343541466"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::Sync </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syncNode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function to MPI synchronize a std::vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Broadcast buffer </td></tr>
    <tr><td class="paramname">syncNode</td><td>Node to synchronize the buffer with </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00532">532</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="comment">//  First synchronize the vector size</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> bufferSize = 0;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">if</span>(syncNode == <a class="code" href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">m_id</a>)</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                bufferSize = buffer-&gt;size();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            MPI_Bcast(&amp;bufferSize,1,this-&gt;GetType&lt;unsigned long int&gt;(),syncNode,<a class="code" href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">m_comm</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            buffer-&gt;resize(bufferSize);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            this-&gt;Sync&lt;T&gt;(buffer-&gt;data(),bufferSize,syncNode);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a7e00700c79360216f60abafad2b0ab1f"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a7e00700c79360216f60abafad2b0ab1f">utilities::MpiWrapper::m_comm</a></div><div class="ttdeci">MPI_Comm m_comm</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00075">mpi_wrapper.h:75</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_a0f670cb88d82d9c815e111de5e76ae3e"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#a0f670cb88d82d9c815e111de5e76ae3e">utilities::MpiWrapper::m_id</a></div><div class="ttdeci">int m_id</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00062">mpi_wrapper.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a801c30ba6c465a8681bbdfe982b24488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::TimeStamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TimeStamp prints the current YMDHMS date. </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00119">119</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">char</span> time_buffer[40];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span>tm *tm_ptr;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        time_t now;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        now = time(NULL);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        tm_ptr = localtime(&amp;now);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        strftime(time_buffer,40,<span class="stringliteral">&quot;%d %B %Y %I:%M:%S %p&quot;</span>,tm_ptr);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">MainOutput</a>()&lt;&lt;time_buffer&lt;&lt;<span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_a903fe4ad596cdce91e00004bc21b7e6a"><div class="ttname"><a href="classutilities_1_1Cout.html#a903fe4ad596cdce91e00004bc21b7e6a">utilities::Cout::MainOutput</a></div><div class="ttdeci">std::ostream &amp; MainOutput()</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00130">cout_tools.h:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab1649eb15e043c83a8878302ef5d0d1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utilities::MpiWrapper::TriangularDivideTasks </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nbrTasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbrProcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>firstTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lastTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>display</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TriangularDivideTasks divides up nbrTasks tasks amongst nbrProcs processes with a trangular weighting function (used e.g. for allocating a roughly equal memory distribution to store a triagular matrix in parallel) </p>
<p>On the processor labelled by the identifier id, the function returns the appropriate index of the minimum and maximum task number</p>
<p>Example output: (arugments nbrTasks=450, nbrProcs=4)</p>
<pre class="fragment">//!    Parallelization:
//!
//!                 Number of   First      Last
//!    Processor     Tasks     Task       Task
//!
//!            0       60      0       59
//!            1       71      60      130
//!            2       93      131     223
//!            3       226     224     449
//!
//! </pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The unique identifier of a particular processor </td></tr>
    <tr><td class="paramname">nbrTasks</td><td>The number of tasks to assign </td></tr>
    <tr><td class="paramname">nbrProcs</td><td>The number of processors available to assign tasks to </td></tr>
    <tr><td class="paramname">firstTask</td><td>The unique index of the first task for processor id </td></tr>
    <tr><td class="paramname">lastTask</td><td>The unique index of the last task for processor id </td></tr>
    <tr><td class="paramname">display</td><td>Flag to turn on/off command line display </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mpi__wrapper_8cpp_source.html#l00311">311</a> of file <a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)   <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">if</span>(display)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\n\tParallelization:\n&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\t                            Number of      First       Last\n&quot;</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\tProcessor      Host          Tasks          Task        Task\n&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span>(nbrTasks&lt;nbrProcs)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            nbrProcs = nbrTasks;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>&gt;=nbrProcs)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                *firstTask = nbrTasks-1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                *lastTask  = nbrTasks-2;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordtype">int</span> procRemain = nbrProcs;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordtype">int</span> taskRemain = nbrTasks;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment">//  use a triangular weight function</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordtype">double</span> weight  = 0.5*taskRemain*(taskRemain+1.0);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordtype">int</span> hi,lo;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        hi = 0;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> proc = 0; proc &lt; nbrProcs; proc++ )</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">//  Calcualte the weight assigned to the current node               </span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                              </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordtype">double</span> weightProc = floor(weight/(<span class="keywordtype">double</span>)procRemain+0.5);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="comment">//  Function here comes from solving a quadratic equation for a sum</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="comment">//  of triagular numbers to find the tasks to assign to the current</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="comment">//  node</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordtype">int</span> taskProc = (int)floor(0.5 + taskRemain </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                              - 0.5*sqrt(1+4.0*(<span class="keywordtype">double</span>)taskRemain*(1+(<span class="keywordtype">double</span>)taskRemain)-8.0*weightProc));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="comment">//loadDistribution[proc]=taskProc;</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            procRemain--;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            taskRemain-=taskProc;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            weight  = 0.5*taskRemain*(taskRemain+1.0);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            lo=hi+1;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            hi+=taskProc;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="comment">//  output the relevant values to the relevant node</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==proc)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                *firstTask=lo-1;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                *lastTask=hi-1;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)   <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">if</span>(display)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>()&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>&lt;&lt;proc&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>&lt;&lt;std::setw(10)&lt;&lt;<a class="code" href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">m_hosts</a>[proc]&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>&lt;&lt;std::setw(12)&lt;&lt;taskProc&lt;&lt;std::setw(12)&lt;&lt; lo-1&lt;&lt;std::setw(12)&lt;&lt;hi-1&lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)   <span class="comment">// FOR THE MASTER NODE  //</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">if</span>(display)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <a class="code" href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">m_cout</a>-&gt;<a class="code" href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">AdditionalInfo</a>()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_aebe0cfaa16217b07aad229ba19dba6e9"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#aebe0cfaa16217b07aad229ba19dba6e9">utilities::MpiWrapper::m_hosts</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_hosts</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00064">mpi_wrapper.h:64</a></div></div>
<div class="ttc" id="structutilities_1_1MpiWrapper_html_abe8447d3e7e900611589f60d91114dda"><div class="ttname"><a href="structutilities_1_1MpiWrapper.html#abe8447d3e7e900611589f60d91114dda">utilities::MpiWrapper::m_cout</a></div><div class="ttdeci">Cout * m_cout</div><div class="ttdef"><b>Definition:</b> <a href="mpi__wrapper_8h_source.html#l00077">mpi_wrapper.h:77</a></div></div>
<div class="ttc" id="classutilities_1_1Cout_html_a2d11fc59d54199d37f4627dc645dff93"><div class="ttname"><a href="classutilities_1_1Cout.html#a2d11fc59d54199d37f4627dc645dff93">utilities::Cout::AdditionalInfo</a></div><div class="ttdeci">std::ostream &amp; AdditionalInfo()</div><div class="ttdef"><b>Definition:</b> <a href="cout__tools_8h_source.html#l00148">cout_tools.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7e00700c79360216f60abafad2b0ab1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm utilities::MpiWrapper::m_comm</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MPI communicator </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00075">75</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="abe8447d3e7e900611589f60d91114dda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classutilities_1_1Cout.html">Cout</a>* utilities::MpiWrapper::m_cout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>a <a class="el" href="classutilities_1_1Cout.html" title="Define a class to contain functions that control the verbosity level of cout output. An object of this class type should be declared as a global extern, with a single instance declared in the main file. ">Cout</a> object pointer, to control output verbosity levels </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00077">77</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab444f21a420946eb4f91f8212cdb0a87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool utilities::MpiWrapper::m_coutExternal</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag to keep track of whether to delete the <a class="el" href="classutilities_1_1Cout.html" title="Define a class to contain functions that control the verbosity level of cout output. An object of this class type should be declared as a global extern, with a single instance declared in the main file. ">Cout</a> object or not when the class destructor is called (avoiding multiple deletions of the object) </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00079">79</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7ffe7ed2049a6b7feb5778886a0d522e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool utilities::MpiWrapper::m_exitFlag</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag to exit MPI process on all cores </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00073">73</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="aafee6ab3a3b23174586b41f38da96bab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilities::MpiWrapper::m_firstTask</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lowest task index for a parallelized task </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00067">67</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="aebe0cfaa16217b07aad229ba19dba6e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; utilities::MpiWrapper::m_hosts</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array to store host names of all proceses on </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00064">64</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f670cb88d82d9c815e111de5e76ae3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilities::MpiWrapper::m_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processor core identification number </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00062">62</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a948a6b1b3daa673cc4ebd93eb0af6770"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilities::MpiWrapper::m_lastTask</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Highest task index for a parallelized task </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00070">70</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0615e4621e3e3fe7c42f6e5bc0f00d6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilities::MpiWrapper::m_nbrProcs</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of processor cores available </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00060">60</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<a class="anchor" id="af1b95be2962297422fd45747078777d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::high_resolution_clock::time_point utilities::MpiWrapper::m_wallTime</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Keep track of the time taken during the program run </p>

<p>Definition at line <a class="el" href="mpi__wrapper_8h_source.html#l00057">57</a> of file <a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="mpi__wrapper_8h_source.html">mpi_wrapper.h</a></li>
<li><a class="el" href="mpi__wrapper_8cpp_source.html">mpi_wrapper.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceutilities.html">utilities</a></li><li class="navelem"><a class="el" href="structutilities_1_1MpiWrapper.html">MpiWrapper</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
